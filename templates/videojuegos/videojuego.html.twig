{% extends 'base.html.twig' %}

{% block body %}
	{% block nav %}
		{{ parent() }}
	{% endblock %}
	{% block text %}
		<div class="text">
			<div class="flex-row d-flex justify-content-between">
				<div class="contenedorG card p-2">
					<div class="p-2 card-body bg-secondary">
						<h2 class="text-center card-title">{{videojuego.titulo}}</h2>
						<div class="m-5">
							{% if directores != null %}
								<h4>Director/Directores:</h4>
								{% for director in directores %}
									<ul>
										<li>{{director}}</li>
									</ul>
								{% endfor %}
							{% else %}
								<span>no hay directores.</span>
							{% endif %}

							{% if generos != null %}
								<h4>Género/Géneros:</h4>
								{% for genero in generos %}
									<ul>
										<li>{{genero}}</li>
									</ul>
								{% endfor %}
							{% else %}
								<span>no hay géneros.</span>
							{% endif %}

							<h4>Año de publicación:</h4>
							<ul>
								<li>{{videojuego.fechaPublicacion}}</li>
							</ul>

							{% if desarrolladores != null %}
								<h4>Empresa desarrolladora/Empresas desarrolladoras:</h4>
								{% for desarrollador in desarrolladores %}
									<ul>
										<li>{{desarrollador}}</li>
									</ul>
								{% endfor %}
							{% else %}
								<span>no hay desarrolladores.</span>
							{% endif %}

							{% if videojuego.descripcion != null %}
								<h4>Descripcion:</h4>
								<ul>
									<li>{{videojuego.descripcion}}</li>
								</ul>
							{% endif %}
							{% if  is_granted('IS_AUTHENTICATED_REMEMBERED') %}
								{% if mismoJuego != true %}
									<a class="btn btn-primary" href="{{path('app_annadir_a_lista',{videojuego: videojuego})}}">Añadir a la lista</a>
								{% else %}
									<p>
										El juego ya esta en la lista
										<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-check-all" viewbox="0 0 16 16">
											<path d="M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z"/>
										</svg>
									</p>
									<p>
										<img src="{{ app.user.avatarUri }}" alt="{{ app.user.username }} Avatar">
										{{comentario}}
									</p>
								{% endif %}
							{% endif %}
						</div>
					</div>
				</div>
				<div class="contenedorP p-2 card">
					<div class=" bg-secondary card-body">
						<h2 class="text-center">Comentarios</h2>
						{% for comentario in arrComentarios %}
							<div class="border p-1 m-2 border-dark">
								<span>
									Usuario:
									{{comentario.usuario.username}}.
									<br>
									Comentario:
									{{comentario.comentario}}.
								</span>
							</div>
						{% endfor %}
					</div>
				</div>
			</div>
		</div>
	{% endblock %}

	{% block footer %}
		{{parent() }}
	{% endblock %}
{% endblock %}
