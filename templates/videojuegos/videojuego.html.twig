{% extends 'base.html.twig' %}

{% block body %}
	{% block nav %}
		{{ parent() }}
	{% endblock %}
	{% block text %}
		<div class="text">
			{% if usuario != null %}
				<div class="flex-row d-flex">
					<div class="container card p-2">
						<div class="p-2 card-body bg-secondary">
							<h2 class="text-center card-title mt-2">{{videojuego.titulo}}</h2>
							<div class="d-flex">
								<div class="m-3 p-2">
									{% if directores != null %}
										<h4>Directores:</h4>
										{% for director in directores %}
											<ul>
												<li>
													<span class="datos">{{director}}</span>
												</li>
											</ul>
										{% endfor %}
									{% else %}
										<span class="datos">no hay directores.</span>
									{% endif %}

									{% if generos != null %}
										<h4>Géneros:</h4>
										{% for genero in generos %}
											<ul>
												<li>
													<span class="datos">{{genero}}</span>
												</li>
											</ul>
										{% endfor %}
									{% else %}
										<span class="datos">no hay géneros.</span>
									{% endif %}

									<h4>Año de publicación:</h4>
									<ul>
										<li>
											<span class="datos">{{videojuego.fechaPublicacion}}</span>
										</li>
									</ul>

									{% if desarrolladores != null %}
										<h4>Empresas desarrolladoras</h4>
										{% for desarrollador in desarrolladores %}
											<ul>
												<li>
													<span class="datos">{{desarrollador}}</span>
												</li>
											</ul>
										{% endfor %}
									{% else %}
										<span class="datos">no hay desarrolladores.</span>
									{% endif %}

									{% if videojuego.descripcion != null %}
										<h4>Descripcion:</h4>
										<ul>
											<li>
												<span class="datos">{{videojuego.descripcion}}</span>
											</li>
										</ul>
									{% endif %}
									{% if  is_granted('IS_AUTHENTICATED_REMEMBERED') %}
										{% if mismoJuego != true %}
											<a class="btn btn-primary" href="{{path('app_annadir_a_lista',{videojuego: videojuego})}}">Añadir a la lista</a>
										{% else %}
											<p class="datos">
												El juego ya esta en la lista
												<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-check-all" viewbox="0 0 16 16">
													<path d="M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z"/>
												</svg>
											</p>
											<span class="datos">
												Comentario:
												{{comentario}}.
											</span>
										{% endif %}
									{% endif %}
								</div>
								<div class="contenerdor-imagen p-3">
									<img class="" src="{{asset('fotos/'~foto~'.jpeg')}}" alt="{{'fotos/'~foto~'.jpeg'}}">
								</div>
							</div>
						</div>
					</div>

					<div class="p-2 card">
						<div class=" bg-secondary card-body">
							<h2 class="text-center">Comentarios</h2>
							{% for comentario in arrComentarios %}
								<div class="p-1 m-2">
									<span class="datos">
										Usuario:
										{{comentario.usuario.username}}.
										<br>
										Comentario:
										{{comentario.comentario}}.
									</span>
								</div>
							{% endfor %}
						</div>
					</div>
				</div>

			{% else %}
				<div class=" d-flex">
					<div class="container-fluid card p-2">
						<div class="p-1 card-body bg-secondary">
							<h2 class="text-center card-title flex-column mt-2">{{videojuego.titulo}}</h2>
							<div class="d-flex">
								<div class="m-5 flex-column">
									{% if directores != null %}
										<h4>Directores:</h4>
										{% for director in directores %}
											<ul>
												<li>
													<span class="datos">{{director}}.</span>
												</li>
											</ul>
										{% endfor %}
									{% else %}
										<span>no hay directores.</span>
									{% endif %}

									{% if generos != null %}
										<h4>Géneros:</h4>
										{% for genero in generos %}
											<ul>
												<li>
													<span class="datos">{{genero}}.</span>
												</li>
											</ul>
										{% endfor %}
									{% else %}
										<span>no hay géneros.</span>
									{% endif %}

									<h4>Año de publicación:</h4>
									<ul>
										<li>
											<span class="datos">{{videojuego.fechaPublicacion}}.</span>
										</li>
									</ul>

									{% if desarrolladores != null %}
										<h4>Empresas desarrolladoras:</h4>
										{% for desarrollador in desarrolladores %}
											<ul>
												<li>
													<span class="datos">{{desarrollador}}.</span>
												</li>
											</ul>
										{% endfor %}
									{% else %}
										<span>no hay desarrolladores.</span>
									{% endif %}

									{% if videojuego.descripcion != null %}
										<h4>Descripción:</h4>
										<ul>
											<li>
												<span class="datos">{{videojuego.descripcion}}.</span>
											</li>
										</ul>
									{% endif %}
								</div>
								<div class="contenerdor-imagen">
									<img class="img-responsive" src="{{asset('fotos/'~foto~'.jpeg')}}" alt="{{'fotos/'~foto~'.jpg'}}">
								</div>
							</div>
						</div>
					</div>
				</div>
			{% endif %}
		</div>
	{% endblock %}

	{% block footer %}
		{{parent() }}
	{% endblock %}
{% endblock %}
